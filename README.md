# 使用 Python 爬取网易云音乐热门单曲热度

### 1. 原理
-----
#### 热门的歌曲自然也会被整理进歌单，热门的歌单自然也会登顶歌单排行榜。
#### 网易云音乐排行榜共有21个栏目，每个栏目有100首单曲，总数2100首单曲。网易云音乐歌单共有40余页，每页35个歌单，每个歌单单曲数量不等，约为50首上下，总数可达70000首单曲。因此，本爬虫选择获取歌单中歌曲信息。
#### 理论上，爬虫运行时，将获取40页热门歌单中所有歌曲的评论数量，以此作为判定单曲热度的衡量标准。

### 2. 数据来源
-----
#### 单曲ID、单曲名称来源为歌单页面
playListUrl = http://music.163.com/playlist?id= + str(playListId)
#### 单曲歌手来源为歌曲页面
songUrl = http://music.163.com/song?id= + str(songId)
#### 评论数量来源为API接口
url = http://music.163.com/weapi/v1/resource/comments/R_SO_4_ + str(songId) + /?csrf_token=

### 3. Header
-----
#### 详见知乎回答（平胸小仙女的回答）
https://www.zhihu.com/question/36081767

### 4. 潜在问题
-----
#### 一下子爬取大量数据，极有可能被网易云音乐封IP。而使用 Delay 即 time.sleep(s) 1秒或5秒未起到很好的效果，网易云音乐仍会在输出约150条结果左右时短暂地屏蔽IP。待解决。
#### 由于同一单曲可能在不同歌单中出现，爬取的时间也不相同，获取的数据可能存在歌曲ID、名称、歌手相同，而评论数量不同，因而导致数据重复的情况。待解决。
